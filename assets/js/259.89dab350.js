(window.webpackJsonp=window.webpackJsonp||[]).push([[259],{779:function(s,a,e){"use strict";e.r(a);var t=e(27),n=Object(t.a)({},(function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[e("h1",{attrs:{id:"关于-resourcebundle-类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#关于-resourcebundle-类"}},[s._v("#")]),s._v(" 关于 ResourceBundle 类")]),s._v(" "),e("h2",{attrs:{id:"resourcebundle-与-locale-的关系"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#resourcebundle-与-locale-的关系"}},[s._v("#")]),s._v(" ResourceBundle 与 Locale 的关系")]),s._v(" "),e("p",[s._v("从概念上讲，每个"),e("code",[s._v("ResourceBundle")]),s._v("是一组共享相同基本 name 的相关子类。下面的列表显示了一组相关的子类，"),e("code",[s._v("ButtonLabel")]),s._v("是基本 name。基本 name 后面的字符表示语言 code，国家 code 和变体。")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("ButtonLabel\nButtonLabel_de\nButtonLabel_en_GB\nButtonLabel_fr_CA_UNIX\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br")])]),e("p",[s._v("比如，"),e("code",[s._v("ButtonLabel_en_GB")]),s._v(",  en 表示英语， GB 表示英国。")]),s._v(" "),e("p",[s._v("要选择适当的 "),e("code",[s._v("ResourceBundle")]),s._v("，请调用 "),e("code",[s._v("ResourceBundle.getBundle")]),s._v(" 方法。下面例子为 法国语言、加拿大国家、UNIX 平台 的 Locale 匹配了 "),e("code",[s._v("ResourceBundle")])]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Locale")]),s._v(" currentLocale "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("new")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Locale")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"fr"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CA"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"UNIX"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResourceBundle")]),s._v(" introLabels "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResourceBundle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBundle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ButtonLabel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" currentLocale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("如果指定语言环境的 ResourceBundle 类不存在，getBundle 将尝试查找最接近的匹配项。例如，如果"),e("code",[s._v("ButtonLabel_fr_CA_UNIX")]),s._v(" 是想要的类，默认的语言环境是 "),e("code",[s._v("en_US")]),s._v("， getBundle 会按照以下顺序查找类：")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_fr_CA_UNIX")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_fr_CA")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_fr")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_en_US")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_en")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br")])]),e("p",[s._v("简单说，一个 "),e("code",[s._v("ResourceBundle")]),s._v(" 有三个参数，将逐渐减少参数匹配：")]),s._v(" "),e("ul",[e("li",[s._v("如果没有匹配上，则使用默认的语言环境，")]),s._v(" "),e("li",[s._v("如果获取不到默认的语言环境对应的 "),e("code",[s._v("ResourceBundle")]),s._v("，则使用没有任何语言配置的 "),e("code",[s._v("ResourceBundle")])]),s._v(" "),e("li",[s._v("如果没有语言配置的默认 "),e("code",[s._v("ResourceBundle")]),s._v(" 也找不到，则抛出一个  MissingResourceException  异常，所以你应该提供一个没有后缀的 "),e("code",[s._v("ResourceBundle")])])]),s._v(" "),e("h2",{attrs:{id:"listresourcebundle-和-propertyresourcebundle-子类"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#listresourcebundle-和-propertyresourcebundle-子类"}},[s._v("#")]),s._v(" ListResourceBundle 和 PropertyResourceBundle 子类")]),s._v(" "),e("p",[s._v("抽象类  "),e("code",[s._v("ResourceBundle")]),s._v("有两个子类:")]),s._v(" "),e("ul",[e("li",[e("p",[e("code",[s._v("PropertyResourceBundle")])]),s._v(" "),e("p",[s._v("由 properties 文件支持， properties 文件是包含可翻译文本的文本文件， Properties files 不是 Java 源码的一部分，并且它们只能包含 String 对象。如果要保存其他类型的对象，可以使用  "),e("code",[s._v("ListResourceBundle")])])]),s._v(" "),e("li",[e("p",[e("code",[s._v("ListResourceBundle")])])])]),s._v(" "),e("p",[s._v("ListResourceBundle 类使用方便的 List 管理资源。每个 "),e("code",[s._v("ListResourceBundle")]),s._v(" 都有 class 文件支持。您可以在 ListResourceBundle 中存储任何特定于 Locale 的对象。若要添加对其他 Locale 的支持，请创建另一个源文件并将其编译为  class 文件。")]),s._v(" "),e("p",[s._v("对这两个类的实例，在后面有讲解。")]),s._v(" "),e("p",[e("code",[s._v("ResourceBundle")]),s._v("类是灵活的。如果你第一次将文本放在了 "),e("code",[s._v("PropertyResourceBundle")]),s._v(" 中，然后想要使用  "),e("code",[s._v("ListResourceBundle")]),s._v("，这对代码没有影响。如下获取一个指定 Locale 的 ResourceBundle，无不管他的实现是什么")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResourceBundle")]),s._v(" introLabels "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ResourceBundle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getBundle")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"ButtonLabel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" currentLocale"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("h2",{attrs:{id:"key-value-对"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#key-value-对"}},[s._v("#")]),s._v(" Key-Value 对")]),s._v(" "),e("p",[e("code",[s._v("ResourceBundle")]),s._v(" 对象包含 key-value 的二维数组。")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("class")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel_en")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("extends")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ListResourceBundle")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("static")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("final")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" contents "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OkKey"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OK"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"CancelKey"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"Cancel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n\n    "),e("span",{pre:!0,attrs:{class:"token comment"}},[s._v("// 英文版本")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token annotation punctuation"}},[s._v("@Override")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("public")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("Object")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getContents")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n        "),e("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("return")]),s._v(" contents"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br"),e("span",{staticClass:"line-number"},[s._v("3")]),e("br"),e("span",{staticClass:"line-number"},[s._v("4")]),e("br"),e("span",{staticClass:"line-number"},[s._v("5")]),e("br"),e("span",{staticClass:"line-number"},[s._v("6")]),e("br"),e("span",{staticClass:"line-number"},[s._v("7")]),e("br"),e("span",{staticClass:"line-number"},[s._v("8")]),e("br"),e("span",{staticClass:"line-number"},[s._v("9")]),e("br"),e("span",{staticClass:"line-number"},[s._v("10")]),e("br"),e("span",{staticClass:"line-number"},[s._v("11")]),e("br"),e("span",{staticClass:"line-number"},[s._v("12")]),e("br")])]),e("p",[s._v("不要被这个二维数组初始化搞懵逼了，其实就是把一个 kv 值放到了一个数组里面，一维数组里面就是如下的 kv 对应的值")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("[OkKey, OK]\n[CancelKey, Cancel]\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])]),e("p",[s._v("获取的时候，使用 key 获取 value")]),s._v(" "),e("div",{staticClass:"language-java line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("String")]),s._v(" okLabel "),e("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[s._v("ButtonLabel")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[s._v("getString")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),e("span",{pre:!0,attrs:{class:"token string"}},[s._v('"OkKey"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br")])]),e("p",[s._v("在 "),e("code",[s._v("ButtonLabel.properties")]),s._v("  文件内容中，上面的信息就是下面这样")]),s._v(" "),e("div",{staticClass:"language- line-numbers-mode"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[s._v("OkKey = OK\nCancelKey = Cancel\n")])]),s._v(" "),e("div",{staticClass:"line-numbers-wrapper"},[e("span",{staticClass:"line-number"},[s._v("1")]),e("br"),e("span",{staticClass:"line-number"},[s._v("2")]),e("br")])])])}),[],!1,null,null,null);a.default=n.exports}}]);